# Storage technologies
---
[Go Back](UNIOVI/3S2_IntSys/README.md)

---
## Introduction
- Options for permanent storage.
	- Hard Drive Disk (HDD) - magnetic
	- CD/DVD - optic
	- Solid State Drive - flash memory
- Use cases
	- Desktop computer. Looks for simplicity, usually a single disk.
	- Server storage
		- Looks for high capacity, high performance, fault tolerant and high availability.
		- Multiple disks managed by a controller
---
## Connection hierarchy of modern computers
![[../assets/connectionHierarchy.png]]
- The hub/bridge is also called concentrator subsystem or chipset
- Each bus has three lines and used only 1 simultaneously
	- Address line. Contains the memory location of the accessed device.
	- Control line. Contains the actual data.
	- Data line. Carries control signals (R/W)
- Bus controller alternatives
	- Bus controller in motherboard
		- Controller integrated in the chipset or connected to a motherboard bus.
		- A I/O bus can be connected to the controler.
	- Bus controller in HBA
		- Motherboard bus provides an expansion slot.
		- A bus controller (Host Bus Adapter - HBA) can be connected.
---
## I/O Buses
### Introduction
- Standardisation
	- Allows integration between different manufacturers
	- Standards created by groups of manufacturers such as INCITS
- Bus standard features
	- Physical features
	- Logic architecture
	- Programming interface
### Parallel Buses
- **Advanced Technology Attachment (ATA)**
	- Developed by Western Digital.
	- Controller is integrated in the motherboard chipset.
	- 7 versions from ATA-1 to ATA-7
	- Better bandwidth: 113.3 MB/s (ATA-7)
	- Find in personal computers.
- **Small Computer System Interface (SCSI)**
	- Controller connected through a HBA.
	- 9 versions from SCSI-1 to ULTRA320 SCSI
	- Better bandwidth: 320 MB/s (ULTRA320-SCSI)
	- Find in server & external storage systems

| Bus name    | # of lines | # devices                |
| ----------- | ---------- | ------------------------ |
| ATA         | 16 bits    | 1 master + 1 slave       |
| Narrow SCSI | 8 bits     | 1 controller + 7 devices |
| Wide SCSI   | 16 bits    | 1 controller +15 devices |
### Serial Buses Description
- Advantages over parallel buses:
	- **Performance**
		- Parallel bus have better width while serial has better frequency.
		- Parallel buses have a limited frequency (electromagnetic noise)
		- This restriction is more significant as the bus length increases.
	- **Used space (footprint)**
		- Serial wires are narrower and take less space .
		- Serial communication requires fewer conductors and pins.
- Bus controllers provide connection points for serial link called **ports**.
- Types of connections:
	- Single-port bus controllers
		- Point to Point (P2P)
		- Using a concentrator
	- Multi-port bus controllers

### Serial Buses
- **Both**
	- Bidirectional channel using 7 conductors (4 data and 3 for security)
	- Compatible with predecesor in the programming interface but not physically.
	- For calculating bandwidth we consider
		- 1 byte = 10 bits
		- Each cycle 1 bit is transferred
- **Serial ATA (SATA)**
	- Usually multi-port controller each one using P2P connections.
	- Up to 15 devices using 1 HUB.
	- Used in personal computers, low-end servers and always for optical devices.
- **Serial Attached SCSI (SAS)**
	- Can be connected with narrow port (x1) or wide port (x2, x4, x8).
	- Can be connected with P2P or with up to two levels of expanders (16 devices).
	- SAS Domains
		- Each SAS controller has ports.
		- Each SAS port defines a domain.
		- Each SAS domain has:
			- 1 initiator (the port)
			- Several devices connected to that port (ignoring SAS expanders)
	- Used in mid-range or high-end servers and always for optical devices.
	- SAS with double port
		- Redundant connection to both HDDs and SSDs
		- SSDs can benefit from double transfer rate
	- SAS controller implements SATA protocol


---
## Non-Volatile Memory Express (NVMe)
- Logical interface for accessing non-volatile memory devices over PCIe
- Implemented in the device drivers 
- It is designed to exploit SSD features (parallelism in accessing storage)
- Supported by W10, WS1012 and Linux 3.3 or higher.
- It has a much greater command queue than SAS/SATA
- Form factors
	- PCIe expansion card (x4 or x8)
	- M.2 card (x2 or x4)
	- SFF device (x4)

---
## Hard Drive Disk (HDD) and Solid State Drive (SSD)

---
## RAID